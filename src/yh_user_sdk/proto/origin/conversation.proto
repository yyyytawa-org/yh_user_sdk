syntax = "proto3";  // 指定使用proto3语法

package yh_conversation;    // 定义包名，防止命名冲突

// 共用区
// 响应状态
message Status {
    int64 number = 1;
    int32 code = 2;
    string msg = 3;
}

// 共用区结束

// 列出对话
message list {
    Status status = 1;
    repeated Data data = 2;
    int32 total = 3; // 列表中对话的数量
    string request_id = 4; // 似乎是请求ID
    
    message Data {
        string chat_id = 1; // 对象ID
        int32 chat_type = 2; // 对象类型
        string name = 3; // 名称
        string chat_content = 4; // 消息内容
        int64 timestamp_ms = 5; // 毫秒时间戳
        int32 unread_message = 6; // 1表示有未读消息
        int32 at = 7; // 是否被@
        int64 avatar_id = 8; // 头像ID
        string avatar_url = 9; // 头像URL
        int32 do_not_disturb = 11; // 免打扰
        int64 timestamp = 12; // 秒级时间戳
        At_data at_data = 14; // @数据
        // 15和3重了就不解析了
        int32 certification_level = 16; // 认证,1是官方 2是地区

        message At_data {
            int64 unknown = 1; // 似乎是名称ID
            string mentioned_id = 2; // 被@的ID,感觉没啥用
            string mentioned_name = 3; // 被@的名称,感觉也没啥用
            string mentioned_in = 4; // @消息所属的对话ID(例如群ID),感觉还没啥用
            string mentioner_id = 6; // 发起@的对象ID
            string mentioner_name = 7; // 发起@对象的名称
            int64 msg_seq = 8; // 发起@的消息序列
        }
    }
}